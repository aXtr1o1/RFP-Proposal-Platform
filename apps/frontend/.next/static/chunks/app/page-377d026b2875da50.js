(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3914:(e,t,a)=>{Promise.resolve().then(a.bind(a,8661))},8661:(e,t,a)=>{"use strict";a.d(t,{default:()=>F});var r=a(5155),s=a(2115);let l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:d="",children:c,iconNode:g,...x}=e;return(0,s.createElement)("svg",{ref:t,...o,width:r,height:r,stroke:a,strokeWidth:i?24*Number(l)/Number(r):l,className:n("lucide",d),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(x)&&{"aria-hidden":"true"},...x},[...g.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),d=(e,t)=>{let a=(0,s.forwardRef)((a,r)=>{let{className:o,...d}=a;return(0,s.createElement)(i,{ref:r,iconNode:t,className:n("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...d})});return a.displayName=l(e),a},c=d("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),g=d("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),x=d("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),m=d("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),h=d("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),p=d("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),u=d("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),y=d("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),b=d("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),f=d("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),j=d("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),v=d("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),N=d("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),w=d("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),k=d("align-left",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]),_=d("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),C=d("table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]),z=d("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),D=!1,P=s.memo(e=>{let{pdfUrl:t}=e,[a,l]=s.useState(!0),[n,o]=s.useState(null);if(s.useEffect(()=>{let e=!0;return(D?Promise.resolve():new Promise((e,t)=>{let a=document.createElement("script");a.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js",a.async=!0,a.onload=()=>{D=!0,e()},a.onerror=()=>t(Error("Failed to load PDF.js")),document.head.appendChild(a)})).then(()=>e&&l(!1)).catch(t=>{e&&(o(t.message||"Failed to load PDF viewer"),l(!1))}),()=>{e=!1}},[]),n)return(0,r.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(c,{className:"mx-auto mb-4 text-red-500",size:48}),(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-800 mb-2",children:"PDF Viewer Error"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:n}),(0,r.jsx)("button",{onClick:()=>window.open(t,"_blank"),className:"bg-blue-600 text-white px-4 py-2 rounded text-sm font-medium hover:bg-blue-700",children:"Open in New Tab"})]})});if(a)return(0,r.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(g,{className:"animate-spin mx-auto mb-4 text-gray-600",size:48}),(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-800 mb-2",children:"Loading PDF Viewer"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Please wait..."})]})});let i="https://mozilla.github.io/pdf.js/web/viewer.html?file=".concat(encodeURIComponent(t));return(0,r.jsx)("div",{className:"h-full",children:(0,r.jsx)("iframe",{src:i,className:"w-full h-full border-none",title:"PDF Document Viewer",onError:()=>o("Failed to load PDF document")},t)})},(e,t)=>e.pdfUrl===t.pdfUrl),M=s.memo(e=>{let{generatedDocument:t,pdfUrl:a,wordLink:s,pdfLink:l}=e;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"border-b border-gray-100 p-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(x,{className:"text-green-500",size:16}),(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-800",children:"Generated Proposal"}),t&&(0,r.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:t})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[s&&(0,r.jsxs)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded text-sm font-medium hover:bg-blue-700 transition-colors duration-200 flex items-center gap-2",onClick:()=>window.open("".concat(s,"?download=1"),"_blank"),title:"Download Word document",children:[(0,r.jsx)(m,{size:16}),"Word"]}),l&&(0,r.jsxs)("button",{className:"bg-green-600 text-white px-4 py-2 rounded text-sm font-medium hover:bg-green-700 transition-colors duration-200 flex items-center gap-2",onClick:()=>window.open("".concat(l,"?download=1"),"_blank"),title:"Download PDF document",children:[(0,r.jsx)(m,{size:16}),"PDF"]})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:a?(0,r.jsx)(P,{pdfUrl:a}):(0,r.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center max-w-md",children:[(0,r.jsx)(h,{className:"mx-auto mb-4 text-green-500",size:64}),(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-800 mb-2",children:"Document Ready"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Your proposal document has been generated successfully."}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border mb-6",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Format: Microsoft Word (.docx)"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Status: Generated Successfully"}),t&&(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["File: ",t]})]})}),s&&(0,r.jsxs)("button",{onClick:()=>window.open(s,"_blank"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center gap-2 mx-auto",children:[(0,r.jsx)(p,{size:16}),"View Document"]})]})})})]})},(e,t)=>e.generatedDocument===t.generatedDocument&&e.pdfUrl===t.pdfUrl&&e.wordLink===t.wordLink&&e.pdfLink===t.pdfLink),F=()=>{let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)([]),[n,o]=(0,s.useState)(""),[i,d]=(0,s.useState)("arabic"),[c,m]=(0,s.useState)(!1),[p,D]=(0,s.useState)(!1),[P,F]=(0,s.useState)(!1),[S,T]=(0,s.useState)(0),[E,O]=(0,s.useState)(""),[L,U]=(0,s.useState)(null),[A,H]=(0,s.useState)(null),[R,B]=(0,s.useState)(null),[q,I]=(0,s.useState)(null),[V,W]=(0,s.useState)({page_orientation:"portrait",text_alignment:"left",reading_direction:"ltr",top_margin:"1.0",bottom_margin:"1.0",left_margin:"1.0",right_margin:"1.0",body_font_size:"11",heading_font_size:"14",title_font_size:"16",bullet_font_size:"11",table_font_size:"10",title_color:"#1a1a1a",heading_color:"#2d2d2d",body_color:"#4a4a4a",auto_fit_tables:!0,table_width:"100",show_table_borders:!0,border_color:"#cccccc",border_style:"single",border_preset:"grid",header_background:"#f8f9fa",table_background:"#ffffff",include_header:!0,include_footer:!0,company_name:"",company_tagline:"",logo_file_path:"",footer_left:"",footer_center:"",footer_right:"",show_page_numbers:!0}),[G,Y]=(0,s.useState)({layout:!0,typography:!1,tables:!1,branding:!1}),J=(0,s.useRef)(null),Z=(0,s.useRef)(null),K=e=>{Y(t=>({...t,[e]:!t[e]}))},$=(e,t)=>{W(a=>({...a,[e]:t}))},X=(e,t)=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?t(!0):"dragleave"===e.type&&t(!1)},Q=(e,a)=>{e.preventDefault(),e.stopPropagation(),"rfp"===a?m(!1):D(!1);let r=Array.from(e.dataTransfer.files).filter(e=>"application/pdf"===e.type||"application/msword"===e.type||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type);"rfp"===a?t(e=>[...e,...r]):l(e=>[...e,...r])},ee=(e,a)=>{if(e.target.files){let r=Array.from(e.target.files);"rfp"===a?t(e=>[...e,...r]):l(e=>[...e,...r])}},et=async()=>{try{let e=await fetch("/nextapi/check-onedrive");if(!e.ok)return console.error("check-onedrive HTTP NOT OKAY",e.status),!1;console.log("check-onedrive HTTP OKAY",e.status);let t=await e.json();if(t.connected)return console.log("✅ OneDrive connected",t.drive),!0;return console.log("❌ OneDrive not connected:",t.message),!1}catch(e){return console.error("OneDrive check failed",e),!1}},ea=async(e,t)=>{let a=await fetch("/api/ocr/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:t,docConfig:V,timestamp:new Date().toISOString(),language:i})});if(!a.ok){let e=await a.text().catch(()=>"");throw Error("Backend /upload failed: ".concat(a.status," ").concat(e))}let{onedrive:r,supabase_url:s}=await a.json().catch(()=>({})),l=null==r?void 0:r.docx_shareUrl,n=null==r?void 0:r.pdf_shareUrl;return s&&I(s),console.log("Word download link:",l),console.log("PDF download link:",n),{docxShareUrl:l,pdfShareUrl:n}},er=async()=>{if(0===e.length)return void alert("Please upload at least one RFP document");if(!n.trim())return void alert("Please provide configuration preferences");F(!0),T(0),O("Checking OneDrive connection...");let t=(()=>{let e=[{stage:"Uploading files...",progress:20},{stage:"Processing documents...",progress:40},{stage:"Analyzing RFP content...",progress:60},{stage:"Generating proposal...",progress:80},{stage:"Finalizing document...",progress:95}],t=0,a=setInterval(()=>{t<e.length?(O(e[t].stage),T(e[t].progress),t++):(clearInterval(a),O("Complete!"),T(100))},1e3);return a})();try{let r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)});if(!await et()){alert("Please connect OneDrive first!"),F(!1),clearInterval(t);return}let s=new FormData;s.append("uuid",r),s.append("config",n),s.append("docConfig",JSON.stringify(V)),s.append("language",i),e.forEach(e=>s.append("rfpFiles",e,e.name)),a.forEach(e=>s.append("supportingFiles",e,e.name));let l=await fetch("/nextapi/upload",{method:"POST",body:s}),o=await l.json();if(!l.ok){console.error("Upload failed:",o),alert("Upload failed: ".concat((null==o?void 0:o.error)||l.status));return}console.log("✅ Uploaded:",o);let{docxShareUrl:d,pdfShareUrl:c}=await ea(r,n);H(d),B(c),U("Generated_Proposal.docx")}catch(e){console.error("Upload failed:",e),alert("Upload failed. Please try again."),clearInterval(t)}finally{setTimeout(()=>{F(!1),T(0),O("")},2e3)}},es=e=>{let{title:a,files:s,dragActive:n,onDragEnter:o,onDragLeave:i,onDragOver:d,onDrop:c,onClick:g,fileType:x}=e;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[(0,r.jsx)("div",{className:"border-b border-gray-100 p-4",children:(0,r.jsxs)("h3",{className:"text-sm font-medium text-gray-800 flex items-center gap-2",children:[(0,r.jsx)(h,{className:"text-gray-500",size:16}),a]})}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"relative border-2 border-dashed rounded-md p-6 text-center transition-all duration-200 cursor-pointer\n            ".concat(n?"border-gray-400 bg-gray-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"),onDragEnter:o,onDragLeave:i,onDragOver:d,onDrop:c,onClick:g,children:[(0,r.jsx)(u,{className:"mx-auto mb-3 ".concat(n?"text-gray-600":"text-gray-400"),size:24}),(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Drag & drop files here"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"or click to browse"}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"PDF, DOC, DOCX files"})]}),s.length>0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("h4",{className:"text-xs font-medium text-gray-600 flex items-center gap-1 mb-2",children:[(0,r.jsx)(y,{className:"text-green-500",size:12}),"Files (",s.length,")"]}),s.map((e,a)=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded p-2 mb-2 border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,r.jsx)(h,{className:"text-gray-400 flex-shrink-0",size:14}),(0,r.jsx)("span",{className:"text-xs text-gray-700 truncate",children:e.name}),(0,r.jsxs)("span",{className:"text-xs text-gray-400 flex-shrink-0",children:[(e.size/1024/1024).toFixed(1),"MB"]})]}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),((e,a)=>{"rfp"===a?t(t=>t.filter((t,a)=>a!==e)):l(t=>t.filter((t,a)=>a!==e))})(a,x)},className:"text-gray-400 hover:text-red-500 p-1 flex-shrink-0",children:(0,r.jsx)(b,{size:12})})})]},a))]})]})]})},el=e=>{let{title:t,icon:a,isExpanded:s,onToggle:l,children:n}=e;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-4",children:[(0,r.jsxs)("button",{onClick:l,className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors duration-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(a,{className:"text-gray-500",size:16}),(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-800",children:t})]}),s?(0,r.jsx)(f,{size:16}):(0,r.jsx)(j,{size:16})]}),s&&(0,r.jsx)("div",{className:"border-t border-gray-100 p-4 space-y-4",children:n})]})},en=s.memo(e=>{let{label:t,value:a,onChange:l,type:n="text",placeholder:o="",options:i=[]}=e,[d,c]=s.useState(a),[g,x]=s.useState(!1);s.useEffect(()=>{g||c(a)},[a,g]);let m=e=>{c(e),("select"===n||"checkbox"===n)&&l(e)};return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:t}),"select"===n?(0,r.jsx)("select",{value:d,onChange:e=>m(e.target.value),className:"w-full px-2 py-1 text-xs border border-gray-200 rounded focus:ring-1 focus:ring-gray-400 focus:border-gray-400 text-gray-900",children:i.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))}):"checkbox"===n?(0,r.jsxs)("label",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:d,onChange:e=>m(e.target.checked),className:"w-3 h-3 text-gray-600 border-gray-300 rounded focus:ring-1 focus:ring-gray-400 text-gray-900"}),(0,r.jsx)("span",{className:"text-xs text-gray-600",children:"Enable"})]}):(0,r.jsx)("input",{type:n,value:d,onChange:e=>c(e.target.value),onFocus:()=>{x(!0)},onBlur:()=>{x(!1),l(d)},placeholder:o,className:"w-full px-2 py-1 text-xs border border-gray-200 rounded focus:ring-1 focus:ring-gray-400 focus:border-gray-400 text-gray-900"})]})});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600&display=swap",rel:"stylesheet"}),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",style:{fontFamily:"JetBrains Mono, monospace"},children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsxs)("div",{className:"w-96 bg-white border-r border-gray-200 min-h-screen p-6",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-lg font-semibold text-gray-900 mb-2",children:"RFP Processing"}),(0,r.jsx)("p",{className:"text-xs text-gray-600 leading-relaxed",children:"Upload documents and configure your proposal generation"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-4 p-4",children:[(0,r.jsxs)("h3",{className:"text-sm font-medium text-gray-800 mb-2 flex items-center gap-2",children:[(0,r.jsx)(v,{className:"text-gray-500",size:16})," Language"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>d("arabic"),className:"flex-1 py-2 px-3 rounded-md text-sm font-medium border transition-colors\n                      ".concat("arabic"===i?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:"Arabic"}),(0,r.jsx)("button",{onClick:()=>d("english"),className:"flex-1 py-2 px-3 rounded-md text-sm font-medium border transition-colors\n                      ".concat("english"===i?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:"English"})]})]}),(0,r.jsx)(es,{title:"RFP Documents",files:e,dragActive:c,onDragEnter:e=>X(e,m),onDragLeave:e=>X(e,m),onDragOver:e=>X(e,m),onDrop:e=>Q(e,"rfp"),onClick:()=>{var e;return null==(e=J.current)?void 0:e.click()},fileType:"rfp"}),(0,r.jsx)(es,{title:"Supporting Files",files:a,dragActive:p,onDragEnter:e=>X(e,D),onDragLeave:e=>X(e,D),onDragOver:e=>X(e,D),onDrop:e=>Q(e,"supporting"),onClick:()=>{var e;return null==(e=Z.current)?void 0:e.click()},fileType:"supporting"}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsx)("div",{className:"border-b border-gray-100 p-4",children:(0,r.jsxs)("h3",{className:"text-sm font-medium text-gray-800 flex items-center gap-2",children:[(0,r.jsx)(N,{className:"text-gray-500",size:16}),"General Preferences"]})}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("textarea",{value:n,onChange:e=>o(e.target.value),placeholder:"Describe your proposal generation preferences...",rows:4,className:"w-full px-3 py-2 bg-white border border-gray-200 text-gray-700 rounded text-xs focus:ring-1 focus:ring-gray-400 focus:border-gray-400 resize-none placeholder-gray-400"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-2 leading-relaxed",children:"Include tone, structure, and specific requirements"})]})]}),L&&(0,r.jsx)(()=>(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:(0,r.jsx)("div",{className:"border-b border-gray-100 p-4",children:(0,r.jsxs)("h3",{className:"text-sm font-medium text-gray-800 flex items-center gap-2",children:[(0,r.jsx)(x,{className:"text-green-500",size:16}),"Generated Document"]})})}),{}),(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsx)("button",{onClick:er,disabled:P||0===e.length||!n.trim(),className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded text-sm font-medium transition-all duration-200\n                    ".concat(P||0===e.length||!n.trim()?"bg-gray-100 text-gray-400 cursor-not-allowed border border-gray-200":"bg-gray-900 text-white hover:bg-gray-800 border border-gray-900"),children:P?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w,{size:16}),"Upload & Process"]})})})]})]}),(0,r.jsx)("div",{className:"flex-1 p-6 min-w-0",children:P?(0,r.jsx)(()=>(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-full flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-md w-full mx-4",children:[(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(g,{className:"animate-spin mx-auto text-gray-600",size:48})}),(0,r.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Processing Your Documents"}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:(0,r.jsx)("div",{className:"bg-gray-600 h-3 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(S,"%")}})})]})}),{}):L?(0,r.jsx)(M,{generatedDocument:L,pdfUrl:null!=q?q:R,wordLink:A,pdfLink:R}):(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-full flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(h,{className:"mx-auto mb-4 text-gray-300",size:64}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Ready to Process"}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:'Upload your RFP documents and click "Upload & Process" to begin'})]})})}),(0,r.jsxs)("div",{className:"w-96 p-6 overflow-y-auto border-l border-gray-200 bg-white",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Document Formatting"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Customize the appearance and layout of your generated proposal"})]}),(0,r.jsxs)(el,{title:"Page Layout",icon:k,isExpanded:G.layout,onToggle:()=>K("layout"),children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(en,{label:"Page Orientation",value:V.page_orientation,onChange:e=>$("page_orientation",e),type:"select",options:[{value:"portrait",label:"Portrait"},{value:"landscape",label:"Landscape"}]}),(0,r.jsx)(en,{label:"Text Alignment",value:V.text_alignment,onChange:e=>$("text_alignment",e),type:"select",options:[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"},{value:"justify",label:"Justify"}]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,r.jsx)(en,{label:"Top Margin (in)",value:V.top_margin,onChange:e=>$("top_margin",e),type:"number"}),(0,r.jsx)(en,{label:"Bottom Margin (in)",value:V.bottom_margin,onChange:e=>$("bottom_margin",e),type:"number"}),(0,r.jsx)(en,{label:"Left Margin (in)",value:V.left_margin,onChange:e=>$("left_margin",e),type:"number"}),(0,r.jsx)(en,{label:"Right Margin (in)",value:V.right_margin,onChange:e=>$("right_margin",e),type:"number"})]})]}),(0,r.jsxs)(el,{title:"Typography & Colors",icon:_,isExpanded:G.typography,onToggle:()=>K("typography"),children:[(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsx)(en,{label:"Body Text Size (pt)",value:V.body_font_size,onChange:e=>$("body_font_size",e),type:"number"}),(0,r.jsx)(en,{label:"Heading Size (pt)",value:V.heading_font_size,onChange:e=>$("heading_font_size",e),type:"number"}),(0,r.jsx)(en,{label:"Title Size (pt)",value:V.title_font_size,onChange:e=>$("title_font_size",e),type:"number"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsx)(en,{label:"Main Title Color",value:V.title_color,onChange:e=>$("title_color",e),type:"color"}),(0,r.jsx)(en,{label:"Heading Color",value:V.heading_color,onChange:e=>$("heading_color",e),type:"color"}),(0,r.jsx)(en,{label:"Body Text Color",value:V.body_color,onChange:e=>$("body_color",e),type:"color"})]})]}),(0,r.jsxs)(el,{title:"Table Styling",icon:C,isExpanded:G.tables,onToggle:()=>K("tables"),children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(en,{label:"Auto-fit Tables",value:V.auto_fit_tables,onChange:e=>$("auto_fit_tables",e),type:"checkbox"}),(0,r.jsx)(en,{label:"Show Borders",value:V.show_table_borders,onChange:e=>$("show_table_borders",e),type:"checkbox"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(en,{label:"Table Width (%)",value:V.table_width,onChange:e=>$("table_width",e),type:"number"}),(0,r.jsx)(en,{label:"Table Font Size",value:V.table_font_size,onChange:e=>$("table_font_size",e),type:"number"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(en,{label:"Header Background",value:V.header_background,onChange:e=>$("header_background",e),type:"color"}),(0,r.jsx)(en,{label:"Border Color",value:V.border_color,onChange:e=>$("border_color",e),type:"color"})]})]}),(0,r.jsxs)(el,{title:"Branding & Headers",icon:z,isExpanded:G.branding,onToggle:()=>K("branding"),children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(en,{label:"Include Header",value:V.include_header,onChange:e=>$("include_header",e),type:"checkbox"}),(0,r.jsx)(en,{label:"Include Footer",value:V.include_footer,onChange:e=>$("include_footer",e),type:"checkbox"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(en,{label:"Company Name",value:V.company_name,onChange:e=>$("company_name",e),placeholder:"Your Company Name"}),(0,r.jsx)(en,{label:"Company Tagline",value:V.company_tagline,onChange:e=>$("company_tagline",e),placeholder:"Your tagline or slogan"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(en,{label:"Footer Left Text",value:V.footer_left,onChange:e=>$("footer_left",e),placeholder:"Left footer content"}),(0,r.jsx)(en,{label:"Footer Center Text",value:V.footer_center,onChange:e=>$("footer_center",e),placeholder:"Center footer content"}),(0,r.jsx)(en,{label:"Footer Right Text",value:V.footer_right,onChange:e=>$("footer_right",e),placeholder:"Right footer content"})]}),(0,r.jsx)(en,{label:"Show Page Numbers",value:V.show_page_numbers,onChange:e=>$("show_page_numbers",e),type:"checkbox"})]})]})]}),(0,r.jsx)("input",{ref:J,type:"file",multiple:!0,accept:".pdf,.doc,.docx",onChange:e=>ee(e,"rfp"),className:"hidden"}),(0,r.jsx)("input",{ref:Z,type:"file",multiple:!0,accept:".pdf,.doc,.docx",onChange:e=>ee(e,"supporting"),className:"hidden"})]})]})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=3914)),_N_E=e.O()}]);